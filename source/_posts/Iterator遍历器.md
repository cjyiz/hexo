---
layout: post
title: Iterator遍历器
date: 2020-02-17 16:48:08
tags:
---
## Iterator 遍历器遍历过程如下：
1、创建一个指针对象，指向当前数据结构的其实位置。也就是说，***遍历器对象本质上就是一个指针对象***。
2、第一次调用指针对象的`next`方法，可以将指针指向数据结构的第一个成员。
3、第二次调用指针对象的`next`方法，指针就指向数据结构的第二个成员。
4、不断调用指针对象的`next`方法，直到它指向数据结构的结束位置。

每次调用`next`方法都会返回一个包含`value`和`done`属性的对象。其中`done`属性是一个布尔值，表示遍历是否结束,如果是false 表示遍历结束。<!-- more -->


ES6规定，默认的数据接口部署在数据结构`Symbol.iterator`属性上。即一个数据结构只要有 ***Symbol.iterator***属性，就可以认为是可遍历的。

`for...of`: 循环获得的是键值
`for...in`:循环获得的是对象的键名

`entries()`返回一个遍历器对象，用于遍历组成的数组。
`keys()`:返回一个遍历器对象，用于遍历所有键名。
`values()`:返回一个遍历器对象，用于遍历所有键值。


```
let str='hello'
for(let s of  str){
    console.log(s) // h e l l o
    }
```

对于普通对象，不能直接使用`for ...of`结构。必须部署了`iterator`接口才能使用。


## 几种遍历方法比较：
1、最基础的`for`循环，缺点是写法比较麻烦
2、数组`forEach`，缺点无法中途跳出forEach循环，break或者return命令都不能奏效。
3、`for ..in` 可以遍历数组键名
     缺点`for..in` 遍历的键名是字符串
     还会遍历手动添加的其他键，甚至包括原型链上的键
4、`for...of`没有`for...in`的缺点
    可以与`break/continue/return`结合使用。提供了遍历所有数据结构的统一接口操作